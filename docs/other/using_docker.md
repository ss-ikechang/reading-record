# 概要

## 本

- [Docker | Adrian Mouat, Sky株式会社 玉川 竜](https://amzn.to/2PZ7xAy)
- 参考
  - [using-docker](https://github.com/using-docker)

## かかった時間

- x 時間

## 読む前の状態

- xxx

## 感想

- xxx

# 読書メモ

## 1: コンテナとはなにか、そしてなぜ注目されているのか

- コンテナ
  - コンテナは、アプリケーションを依存対象とともにカプセル化したもの
- コンテナと VM の違い
  - 仮想化にはホスト型とハイパーバイザ型がある
    - ホスト型
      - ホスト型は OS 上に土台となるソフトウェアをインストールし、そのソフトウェア上で仮想マシンを稼働させる方式
      - ハードウェアにアクセスするにはホスト OS を経由しないといけないため、余計なオーバーヘッドがかかる
    - ハイパーバイザ型
      - サーバーへ直接ハイパーバイザをインストールし、仮想マシンを稼働させる方式
      - こちらの場合は（ホスト OS を介さず）ハードウェアを直接操作可能
    - 参考: [ホスト型とハイパーバイザー型の違いは何？VMware vSphere Hypervisor の概要 | Think IT（シンクイット）](https://thinkit.co.jp/story/2012/10/17/3722)
    - 上記の通り、それぞれの VM には OS、実行するアプリケーション、必要な支援ライブラリの完全なコピーが必要となる
  - コンテナの場合
    - VM の場合とは異なり、ホストのカーネルは実行されるコンテナと共有される
    - また、アプリケーション間で共通のライブラリを使う場合は、冗長なコピーを持つのではなく、共有できる
    - コンテナエンジンは、ハイパーバイザ上の VM と同じようなやり方で、コンテナの起動や終了を受け持つ
    - コンテナ内で動作しているプロセスは、ホスト上で直接動作しているプロセスと同等であり、ハイパーバイザの実行に伴うオーバーヘッドがない
  - VM が目的としているのは、異なる環境を完全にエミュレートすること。コンテナが目的としているのは、アプリケーションをポータブルにし、単体で動作できるようにすること
- Docker とコンテナ
  - Docker はポータブルなイメージと、ユーザーフレンドリーなインターフェイスを中心とする様々な方法で既存のコンテナ技術をラップして拡張し、コンテナの生成と配布のための完全なソリューションを生み出している
  - Docker というプラットフォームには、2 つの構成要素がある
    - Docker エンジン
      - コンテナの生成と実行を受け持つ
      - 動作中のコンテナへの高速で便利なインターフェイスを提供する
    - Docker Hub
      - コンテナを配布するためのクラウドサービス
- Docker のプラットフォームは 64bit Linux のみ
  - Docker を利用するコンピュータでは、64bit の Linux ディストリビューションを動作されなければならず、コンテナもすべて 64bit Linux でなければならない
  - そのため、Windows もしくは Mac OS のユーザーは、VM 内で Docker を動作させることになる

## 2: インストール

- Docker for Mac/Windows
  - この本が書かれた時点では Docker Toolbox をインストールし、Virtual Box 上で Linux のホストを動作させるやり方だった。現時点では、Docker for Mac/Windows を利用して、それぞれのプラットフォーム固有の仮想化の機能を使うことで、ほぼ Linux と同様の感覚で Docker を使えるようになる
- Docker for Mac
  - Docker for Mac は Mac OS Yosemite に組み込まれたネイティブの仮想化機構である Hypervisor Framework を利用し、Docker エンジンの動作環境を提供する
  - ユーザーからは、仮想環境のホストの存在をほぼ意識することなく、Docker を Mac OS 上で利用できる
